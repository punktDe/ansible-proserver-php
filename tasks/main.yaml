---

- name: Set PHP version

- name: Install PHP and extensions (Ubuntu/Debian)
  when: ansible_os_family == 'Debian'
  ansible.builtin.import_tasks: install.yaml

- name: Set up XDebug
  when: php.xdebug.disable_by_default
  ansible.builtin.import_tasks: xdebug.yaml

- name: Set up phpfpmtop
  ansible.builtin.import_tasks: phpfpmtop.yaml

- name: Configure PHP-FPM
  ansible.builtin.import_tasks: phpfpm.yaml

- name: Configure PHP
  ansible.builtin.import_tasks: php.yaml
